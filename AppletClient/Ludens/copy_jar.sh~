#!/bin/bash

echo "Cambiando de dir"
cd /home/juanga/Desktop/DropBox/Dropbox/Projects/Desktop/Ludens/Test/

echo "Borrando Directorio Ludens"
rm -rf MapLudens

echo "Borrando  Jar Ludens"
rm -rf MapLudens.jar

echo "Creando  Directorio Ludens"
mkdir MapLudens

echo "Copiando nuevo .jar"
cp /home/juanga/Desktop/DropBox/Dropbox/Projects/Desktop/Ludens/MapLudens/dist/MapLudens.jar ./

echo "Descomprimiendo nuevo Mapludens jar "
unzip MapLudens.jar -d ./MapLudens

echo "Copiando Genuts library a MapLudens jar "
cp -R ./com ./MapLudens

echo "Copiando net library a MapLudens jar "
cp -R ./net ./MapLudens

echo "Copiando javax library a MapLudens jar "
cp -R ./javax ./MapLudens

echo "Copiando org library a MapLudens jar "
cp -R ./org ./MapLudens

echo "Borrando  Jar Ludens"
rm -rf MapLudens.jar

cd MapLudens

echo "Creando Jar"
zip -r ../MapLudensTmp.jar META-INF co com net



cd ..

echo "Signing Jar"
jarsigner -keystore ludens2011 -signedjar ./MapLudens.jar ./MapLudensTmp.jar ludens2011

echo "Borrando  Temp Jar Ludens"
rm -rf MapLudensTmp.jar


echo "Copiando a el proyecto de eclipse"
cp -r ./MapLudens.jar /home/juanga/Desktop/DropBox/Dropbox/Projects/Web/Utopo/WebContent/applets/"$1".jar

echo "Done!!!"
